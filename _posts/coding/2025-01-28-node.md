---
layout: post
title: javaScript
date: 2025-01-28 14:00 +0900
description: 
image: ../assets/img/front.jpg
category: [JS,]
tags: JS
published: true
sitemap: true
---

# node

* 리눅스 배포판
Debian Package => .dev
Red Hat Package Manager => .rpm

ZEROFILL 
- 고정된 자리 수로 표현하고 빈 자리에는 0을 채우는 기능
단, MySQL 8.0.17부터는 ZEROFILL이 더 이상 지원되지 않음(Deprecated).

OFFSET 1 - 건너뛰기

### 시퀄라이즈
- ORM(Object-relational Mapping) - 데이터베이스와 모델을 연결, db가 바뀔때 유용

모델 이름은 단수형, 테이블 이름은 복수형으로 사용

1:N
user -> hasmany -> comment
user <- belongsTo <- comment

순환 참조 문제 - 서로가 서로를 부르는 것

npx - 일회성 설치
npm - 일반적으로 설치

### Nunjucks

변수설정 - {% set 변수 = '값' %}
이스케이프 X - {{ 변수 | safe }}
````html
{% for ~ in ~ %} // for문
    {{loop.index}}번째 // 인덱스 사용할 때
{% endfor %}
````
if문 - {% if 조건 %} {% elif 조건 %} {% else %} {% endif %}

### morgan

````javascript
const accessLogStream = fs.createWriteStream(path.join(__dirname, 'access.log'), { flags: 'a' });
app.use(morgan('tiny', {stream: accessLogStream}));
````
* dev, combined, common, short, tiny 옵션 사용하여 로그파일 만들기

````log
[0mGET / [36m304[0m 7.372 ms - -[0m
[0mGET /style.css [33m404[0m 3.301 ms - 1490[0m
::1 - - [04/Apr/2025:07:13:43 +0000] "GET / HTTP/1.1" 304 - "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"
::1 - - [04/Apr/2025:07:13:43 +0000] "GET /style.css HTTP/1.1" 404 1490 "http://localhost:3001/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"
::1 - - [04/Apr/2025:07:13:58 +0000] "GET / HTTP/1.1" 304 -
::1 - - [04/Apr/2025:07:13:58 +0000] "GET /style.css HTTP/1.1" 404 1490
::1 - GET / HTTP/1.1 304 - - 9.098 ms
::1 - GET /style.css HTTP/1.1 404 1490 - 3.135 ms
GET / 304 - - 7.441 ms
GET /style.css 404 1490 - 3.186 ms
````

### 개발도구 및 프로세스 매니저

* 개발도구
nodemon - 개발할 때 사용, 오류가 나도 재시작
supervisor - nodemon과 비슷하게 파일 변경 감지 후 자동 재시작, 오류가 발생하면 연결 종료
* 프로세스 매니저
PM2 - 운영할 때 사용, 서버가 종료되거나 오류로 꺼져도 자동으로 재시작, 로드밸런싱, 로그 관리, 성능 모니터링 기능 제공
````bash
pm2 start app.js
````

### API 인증 및 사용 절차

인증 파일 설치 요구 => 맞는 서버 확인, 공공 데이터는 인증서 파일 X, 돈이 들어가는 것에 주로 사용
API KEY 발행 (ex> include, 다운로드, hash값 등등) - 사용자 확인
API 사용

