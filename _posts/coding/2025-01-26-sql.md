---
layout: post
title: javaScript
date: 2025-01-26 14:00 +0900
description: 
image: ../assets/img/front.jpg
category: [JS,]
tags: JS
published: true
sitemap: true
---

# SQL

## 제약조건
ex > 외래키 REPERENSES 기본키, NOT NULL
고유키(Unique) - 반복사용가능, 우선순위 낮음

````sql
ALTER TABLE member // 테이블 수정
    ADD CONSTAINT // 제약조건 추가
    PRIMARY KEY(mem_id); // 빼먹은 기본키 추가
````

기준 테이블의 데이터를 변경할 때 참조 테이블의 데이터도 자동으로 변경
````sql
// 기준 테이블의 기본 키 값이 변경되면, 참조 테이블에서도 자동으로 업데이트
FOREIGN KEY(mem_id) REFERENCES member(mem_id)
ON UPDATE CASCADE
ON DELETE CASCADE; // 실무에서는 사용불가능(ex> 회사퇴사후 너같은얘 없었음)
````

자동으로 수행하려면 => 트리거를 사용!

### UNIQUE 
- null값 허용, 여러번 설정가능
=> 키를 설정하면 그 키를 기준으로 정렬한 테이블을 db내에서 자동으로 생성(인덱스 생성)하기때문에 키 설정이 많아지면 db가 느려짐

### CHECK(조건)
````
height TINYINT UNSIGNED NULL CHECK (height >= 100) // 키는 무조건 100이상
CHECK (phone1 IN('02', '031', '032', '054', '055', '061'))
````

### DEFAULT
````sql
ALTER TABLE member
    ALTER COLUMN phone1 SET DEFAULT '02';
````

### NULL
- 아무것도 없다. 공백이나 '0'과는 다름
NOT NULL

## 뷰
단순 뷰 - 하나의 테이블과 연관된 뷰
복합 뷰 - 2개 이상의 테이블과 연관된 뷰, 읽기 전용, 입력/수정/삭제 불가능

````sql
CREATE VIEW v_이름 // 앞에 v_를 붙인 테이블 == 뷰
````

- 뷰는 기본적으로 읽기전용, 원본 테이블의 데이터 수정도 가능함
- 기본키는 보이지 않음


=> 보안, 복잡한 SQL의 단순화
sql에서 변수 -> `(백틱, 그레이브 악센트)
sql에서 값 -> ""

````sql
CREATE OR REPLACE VIEW // 기존 뷰가 있으면 덮어쓰기
````

````sql
DESCRIBE 뷰; // 뷰 자세히 보기
````

````sql
WITH CHECK OPTION // 조건에 맞지 않는 값이 아예 들어가지 않도록 설정
````
=> 안쓰면 뷰에는 값이 안들어가고 원장에만 이상한 값 축적


````sql
CHECK TABLE 뷰; // 뷰나 테이블이 정상적인 상태인지 검사하는 역할
````
